(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4200:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var r=a(5155),s=a(9089),n=a(5695),l=a(2115),i=a(4500);let o="https://pokeapi.co/api/v2";async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=await fetch("".concat(o,"/pokemon?limit=").concat(e,"&offset=").concat(t));if(!a.ok)throw Error("Failed to fetch Pokemon list");return a.json()}async function d(e){let t=await fetch("".concat(o,"/pokemon/").concat(e));if(!t.ok)throw Error("Failed to fetch Pokemon: ".concat(e));return t.json()}function g(e){let t=e.match(/\/pokemon\/(\d+)\//);return t&&t[1]?parseInt(t[1],10):0}let m=new Map,x=null;async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(e.length<2)return[];let a=e.toLowerCase().trim();if(m.has(a))return m.get(a).slice(0,t);x&&x.abort(),x=new AbortController;try{let e=await fetch("".concat(o,"/pokemon?limit=1000"),{signal:x.signal});if(!e.ok)throw Error("Failed to fetch Pokemon list for search");let{results:r}=await e.json(),s=r.filter(e=>e.name.toLowerCase().includes(a)).slice(0,t),n=await Promise.all(s.map(async e=>{let t=g(e.url),a=await d(t);return{id:t,name:e.name,image:a.sprites.other["official-artwork"].front_default||a.sprites.front_default||"",types:a.types.map(e=>e.type.name)}}));return m.set(a,n),n}catch(e){if(e instanceof Error&&"AbortError"===e.name)return[];throw e}}let h={types:[],generation:null,stats:{hp:{min:0,max:255},attack:{min:0,max:255},defense:{min:0,max:255},specialAttack:{min:0,max:255},specialDefense:{min:0,max:255},speed:{min:0,max:255},total:{min:0,max:780}},height:{min:0,max:100},weight:{min:0,max:1e3}},b={1:{name:"Generation I",range:[1,151]},2:{name:"Generation II",range:[152,251]},3:{name:"Generation III",range:[252,386]},4:{name:"Generation IV",range:[387,493]},5:{name:"Generation V",range:[494,649]},6:{name:"Generation VI",range:[650,721]},7:{name:"Generation VII",range:[722,809]},8:{name:"Generation VIII",range:[810,905]},9:{name:"Generation IX",range:[906,1025]}},p=["normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy"];function y(e,t){let a=e.find(e=>e.stat.name===t);return a?a.base_stat:0}async function f(e){let t=await d(e);return{id:t.id,name:t.name,height:t.height,weight:t.weight,base_experience:t.base_experience,image:t.sprites.other["official-artwork"].front_default||t.sprites.front_default||"",types:t.types.map(e=>e.type.name),stats:t.stats,generation:function(e){for(let[t,a]of Object.entries(b)){let[r,s]=a.range;if(void 0!==r&&void 0!==s&&e>=r&&e<=s)return parseInt(t)}return 1}(t.id),totalStats:t.stats.reduce((e,t)=>e+t.base_stat,0)}}function k(e){var t;let{selectedGeneration:a,onGenerationChange:s}=e,n=Object.entries(b).map(e=>{let[t,a]=e;return{value:parseInt(t),label:a.name,range:"#".concat(a.range[0]," - #").concat(a.range[1])}});return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Generation"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"generation-all",type:"radio",name:"generation",checked:null===a,onChange:()=>s(null),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"generation-all",className:"ml-2 text-sm font-medium text-gray-900 dark:text-white cursor-pointer",children:"All Generations"})]}),n.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"generation-".concat(e.value),type:"radio",name:"generation",checked:a===e.value,onChange:()=>s(e.value),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"generation-".concat(e.value),className:"ml-2 text-sm text-gray-900 dark:text-white cursor-pointer flex-1",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium",children:e.label}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.range})]})})]},e.value))]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===a?"Showing all generations":"Showing only ".concat((null==(t=b[a])?void 0:t.name)||"Unknown")})]})}var j=a(9137),w=a.n(j);function v(e){let{min:t,max:a,value:s,step:n=1,label:i,onChange:o,formatValue:c=e=>e.toString()}=e,[d,g]=(0,l.useState)(s);(0,l.useEffect)(()=>{g(s)},[s]);let m=e=>{let t={min:Math.min(e,d.max),max:d.max};g(t),o(t)},x=e=>{let t={min:d.min,max:Math.max(e,d.min)};g(t),o(t)},u=(d.min-t)/(a-t)*100,h=(d.max-t)/(a-t)*100;return(0,r.jsxs)("div",{className:"jsx-294dd0348ca658b6 space-y-3",children:[(0,r.jsxs)("div",{className:"jsx-294dd0348ca658b6 flex justify-between items-center",children:[(0,r.jsx)("label",{className:"jsx-294dd0348ca658b6 text-sm font-medium text-gray-700 dark:text-gray-300",children:i}),(0,r.jsxs)("span",{className:"jsx-294dd0348ca658b6 text-sm text-gray-500 dark:text-gray-400",children:[c(d.min)," - ",c(d.max)]})]}),(0,r.jsx)("div",{className:"jsx-294dd0348ca658b6 relative",children:(0,r.jsxs)("div",{className:"jsx-294dd0348ca658b6 relative h-6 bg-gray-200 dark:bg-gray-700 rounded-lg",children:[(0,r.jsx)("div",{style:{left:"".concat(u,"%"),width:"".concat(h-u,"%")},className:"jsx-294dd0348ca658b6 absolute h-6 bg-blue-500 rounded-lg"}),(0,r.jsx)("input",{type:"range",min:t,max:a,step:n,value:d.min,onChange:e=>m(Number(e.target.value)),style:{zIndex:1},"aria-label":"".concat(i," minimum value"),className:"jsx-294dd0348ca658b6 absolute w-full h-6 bg-transparent appearance-none cursor-pointer range-slider"}),(0,r.jsx)("input",{type:"range",min:t,max:a,step:n,value:d.max,onChange:e=>x(Number(e.target.value)),style:{zIndex:2},"aria-label":"".concat(i," maximum value"),className:"jsx-294dd0348ca658b6 absolute w-full h-6 bg-transparent appearance-none cursor-pointer range-slider"})]})}),(0,r.jsxs)("div",{className:"jsx-294dd0348ca658b6 flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"jsx-294dd0348ca658b6",children:c(t)}),(0,r.jsx)("span",{className:"jsx-294dd0348ca658b6",children:c(a)})]}),(0,r.jsx)(w(),{id:"294dd0348ca658b6",children:".range-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;height:20px;width:20px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:#3b82f6;border:2px solid white;cursor:pointer;-webkit-box-shadow:0 0 0 1px rgba(0,0,0,.1);-moz-box-shadow:0 0 0 1px rgba(0,0,0,.1);box-shadow:0 0 0 1px rgba(0,0,0,.1)}.range-slider::-moz-range-thumb{height:20px;width:20px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:#3b82f6;border:2px solid white;cursor:pointer;-webkit-box-shadow:0 0 0 1px rgba(0,0,0,.1);-moz-box-shadow:0 0 0 1px rgba(0,0,0,.1);box-shadow:0 0 0 1px rgba(0,0,0,.1);border:none}.range-slider::-webkit-slider-track{background:transparent}.range-slider::-moz-range-track{background:transparent}"})]})}function N(e){let{height:t,weight:a,onHeightChange:s,onWeightChange:n}=e,l=e=>{let t=e/10,a=Math.floor(3.28084*t),r=Math.round((3.28084*t-a)*12);return"".concat(t.toFixed(1),"m (").concat(a,"'").concat(r,'")')},i=e=>{let t=e/10,a=Math.round(2.20462*t);return"".concat(t.toFixed(1),"kg (").concat(a,"lbs)")};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Physical Attributes"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(v,{min:0,max:100,value:t,label:"Height",onChange:s,formatValue:l,step:1}),(0,r.jsx)(v,{min:0,max:1e3,value:a,label:"Weight",onChange:n,formatValue:i,step:1})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,r.jsx)("p",{children:"Filter Pok\xe9mon by their physical characteristics."}),(0,r.jsxs)("p",{children:["Heights range from ",l(t.min)," to"," ",l(t.max),"."]}),(0,r.jsxs)("p",{children:["Weights range from ",i(a.min)," to"," ",i(a.max),"."]})]})]})}function S(e){let{stats:t,onStatsChange:a}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Base Stats"}),(0,r.jsx)("div",{className:"space-y-4",children:[{key:"hp",label:"HP",min:0,max:255},{key:"attack",label:"Attack",min:0,max:255},{key:"defense",label:"Defense",min:0,max:255},{key:"specialAttack",label:"Sp. Attack",min:0,max:255},{key:"specialDefense",label:"Sp. Defense",min:0,max:255},{key:"speed",label:"Speed",min:0,max:255},{key:"total",label:"Total Stats",min:0,max:780}].map(e=>(0,r.jsx)(v,{min:e.min,max:e.max,value:t[e.key],label:e.label,onChange:t=>a(e.key,t),step:1},e.key))}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,r.jsx)("p",{children:"Adjust ranges to filter Pok\xe9mon by their base stats."}),(0,r.jsxs)("p",{children:["Total stats range from ",t.total.min," to ",t.total.max,"."]})]})]})}var C=a(3418);function P(e){let{options:t,value:a,onChange:s,placeholder:n="Select options...",label:o,maxDisplayedItems:c=3}=e,[d,g]=(0,l.useState)(!1),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let x=e=>{s(a.includes(e)?a.filter(t=>t!==e):[...a,e])},u=e=>{s(a.filter(t=>t!==e))},h=t.filter(e=>a.includes(e.value)),b=h.slice(0,c),p=h.length-c;return(0,r.jsxs)("div",{className:"space-y-2",children:[o&&(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o}),(0,r.jsxs)("div",{ref:m,className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>g(!d),className:"w-full min-h-[42px] px-3 py-2 text-left bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 dark:hover:border-gray-500 transition-colors","aria-haspopup":"listbox","aria-expanded":d,children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-1 min-h-[26px] items-center",children:0===h.length?(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:n}):(0,r.jsxs)(r.Fragment,{children:[b.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium \n                               text-white rounded-full ".concat(e.color||"bg-blue-500"),children:[e.label,(0,r.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),u(e.value)},className:"ml-1 hover:text-gray-200","aria-label":"Remove ".concat(e.label),children:(0,r.jsx)(i.A,{className:"h-3 w-3"})})]},e.value)),p>0&&(0,r.jsxs)("span",{className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-full",children:["+",p," more"]})]})}),(0,r.jsx)(C.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 \n                       text-gray-400 transition-transform ".concat(d?"rotate-180":"")})]}),d&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:t.map(e=>{let t=a.includes(e.value);return(0,r.jsxs)("button",{type:"button",onClick:()=>x(e.value),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 \n                             transition-colors flex items-center justify-between\n                             ".concat(t?"bg-blue-50 dark:bg-blue-900/20":""),role:"option","aria-selected":t,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.color&&(0,r.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color),"aria-hidden":"true"}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white capitalize",children:e.label})]}),t&&(0,r.jsx)("div",{className:"w-4 h-4 rounded border-2 border-blue-500 bg-blue-500 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e.value)})})]})]})}let E=e=>({normal:"bg-gray-400",fire:"bg-red-500",water:"bg-blue-500",electric:"bg-yellow-400",grass:"bg-green-500",ice:"bg-blue-300",fighting:"bg-red-700",poison:"bg-purple-500",ground:"bg-yellow-600",flying:"bg-indigo-400",psychic:"bg-pink-500",bug:"bg-green-400",rock:"bg-yellow-800",ghost:"bg-purple-700",dragon:"bg-indigo-700",dark:"bg-gray-800",steel:"bg-gray-500",fairy:"bg-pink-300"})[e]||"bg-gray-400";function F(e){let{selectedTypes:t,onTypesChange:a}=e,s=p.map(e=>({value:e,label:e,color:E(e)}));return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Pok\xe9mon Types"}),(0,r.jsx)(P,{options:s,value:t,onChange:a,placeholder:"Select types...",label:"Filter by type",maxDisplayedItems:2}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:0===t.length?"No type filters applied":"Filtering by ".concat(t.length," type").concat(t.length>1?"s":"")})]})}function A(e){let{filters:t,onFiltersChange:a,isOpen:n,onClose:o,resultsCount:c}=e,[d,g]=(0,l.useState)("types"),m=()=>t.types.length>0||null!==t.generation||JSON.stringify(t.stats)!==JSON.stringify(h.stats)||JSON.stringify(t.height)!==JSON.stringify(h.height)||JSON.stringify(t.weight)!==JSON.stringify(h.weight),x=[{id:"types",label:"Types",component:F},{id:"generation",label:"Generation",component:k},{id:"stats",label:"Stats",component:S},{id:"physical",label:"Physical",component:N}];return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:o,"aria-hidden":"true"}),(0,r.jsxs)("div",{className:"fixed top-0 left-0 h-full w-80 bg-white dark:bg-gray-900 \n                   shadow-xl transform transition-transform duration-300 ease-in-out z-50\n                   ".concat(n?"translate-x-0":"-translate-x-full","\n                   lg:relative lg:translate-x-0 lg:shadow-none lg:border-r \n                   lg:border-gray-200 lg:dark:border-gray-700 lg:h-full lg:flex lg:flex-col"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[void 0!==c&&(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c," results"]}),(0,r.jsx)("button",{onClick:o,className:"lg:hidden p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Close filters",children:(0,r.jsx)(i.A,{className:"h-5 w-5"})})]})]}),(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("button",{onClick:()=>{a(h),g("types")},disabled:!m(),className:"w-full px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Reset All Filters"})}),(0,r.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-4 space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>(0,r.jsx)("button",{onClick:()=>g(d===e.id?null:e.id),className:"px-3 py-1 text-sm font-medium rounded-full transition-colors\n                             ".concat(d===e.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:e.label},e.id))}),(0,r.jsxs)("div",{className:"space-y-6",children:["types"===d&&(0,r.jsx)(F,{selectedTypes:t.types,onTypesChange:e=>{a({...t,types:e})}}),"generation"===d&&(0,r.jsx)(k,{selectedGeneration:t.generation,onGenerationChange:e=>{a({...t,generation:e})}}),"stats"===d&&(0,r.jsx)(S,{stats:t.stats,onStatsChange:(e,r)=>{a({...t,stats:{...t.stats,[e]:r}})}}),"physical"===d&&(0,r.jsx)(N,{height:t.height,weight:t.weight,onHeightChange:e=>{a({...t,height:e})},onWeightChange:e=>{a({...t,weight:e})}})]})]})}),m()&&(0,r.jsxs)("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Active Filters:"}),(0,r.jsxs)("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[t.types.length>0&&(0,r.jsxs)("div",{children:["Types: ",t.types.join(", ")]}),null!==t.generation&&(0,r.jsxs)("div",{children:["Generation: ",t.generation]}),void 0!==c&&(0,r.jsxs)("div",{className:"font-medium text-blue-600 dark:text-blue-400 mt-2",children:[c," Pok\xe9mon match your filters"]})]})]})]})]})}var I=a(6766),z=a(6874),L=a.n(z);function O(e){let{searchQuery:t="",filteredPokemon:a,isFiltering:s=!1}=e,[n,i]=(0,l.useState)([]),[o,d]=(0,l.useState)([]),[m,x]=(0,l.useState)(!0),[u,h]=(0,l.useState)(null),[b,p]=(0,l.useState)(0),[y,k]=(0,l.useState)(!0),j=async e=>{try{x(!0);let t=await c(20,e),a=await Promise.all(t.results.map(async e=>{let t=g(e.url);return await f(t)}));0===e?i(a):i(e=>[...e,...a]),k(null!==t.next)}catch(e){h(e instanceof Error?e.message:"Failed to load Pokemon")}finally{x(!1)}};(0,l.useEffect)(()=>{j(0)},[]),(0,l.useEffect)(()=>{s&&a.length>0?t.trim()?d(a.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.types.some(e=>e.toLowerCase().includes(t.toLowerCase())))):d(a):t.trim()?d(n.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.types.some(e=>e.toLowerCase().includes(t.toLowerCase())))):d(n)},[t,n,a,s]);let w=function(e,t){let{hasMore:a,loading:r,threshold:s=100}=t,n=(0,l.useRef)(null),i=(0,l.useRef)(e),o=(0,l.useRef)(null);(0,l.useEffect)(()=>{i.current=e},[e]);let c=(0,l.useCallback)(e=>{let[t]=e;t&&t.isIntersecting&&a&&!r&&(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{i.current()},100))},[a,r]);return(0,l.useEffect)(()=>{let e=n.current;if(!e)return;let t=new IntersectionObserver(c,{root:null,rootMargin:"".concat(s,"px"),threshold:.1});return t.observe(e),()=>{t.disconnect(),o.current&&clearTimeout(o.current)}},[c,s]),n}(()=>{let e=b+20;p(e),j(e)},{hasMore:y&&!t.trim()&&!s,loading:m,threshold:100}),v=t.trim().length>0,N=!v&&!s&&y,S=e=>({normal:"bg-gray-400",fire:"bg-red-500",water:"bg-blue-500",electric:"bg-yellow-400",grass:"bg-green-500",ice:"bg-blue-300",fighting:"bg-red-700",poison:"bg-purple-500",ground:"bg-yellow-600",flying:"bg-indigo-400",psychic:"bg-pink-500",bug:"bg-green-400",rock:"bg-yellow-800",ghost:"bg-purple-700",dragon:"bg-indigo-700",dark:"bg-gray-800",steel:"bg-gray-500",fairy:"bg-pink-300"})[e]||"bg-gray-400";return u?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsxs)("p",{className:"text-red-600 dark:text-red-400 text-lg",children:["Error: ",u]}),(0,r.jsx)("button",{onClick:()=>j(0),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):(0,r.jsxs)("div",{children:[(v||s)&&(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:0===o.length?v?'No Pok\xe9mon found matching "'.concat(t,'"'):"No Pok\xe9mon match your filters":v?"Found ".concat(o.length,' Pok\xe9mon matching "').concat(t,'"'):"".concat(o.length," Pok\xe9mon match your filters")})}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",role:"grid","aria-label":"Pokemon list",children:o.map(e=>(0,r.jsx)(L(),{href:"/pokemon/".concat(e.id),className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"relative h-32 mb-3",children:e.image&&(0,r.jsx)(I.default,{src:e.image,alt:e.name,fill:!0,className:"object-contain",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:["#",e.id.toString().padStart(3,"0")]}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white capitalize mb-2",children:e.name}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-1",children:e.types.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-white rounded-full ".concat(S(e)),children:e},e))})]})]})},e.id))}),N&&(0,r.jsx)("div",{ref:w,className:"flex justify-center items-center py-12","aria-label":"Loading more Pokemon",role:"status","aria-live":"polite",children:m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600","aria-hidden":"true"}),(0,r.jsx)("p",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading more Pok\xe9mon..."})]})}),!m&&!y&&!v&&!s&&(0,r.jsx)("div",{className:"text-center mt-12",role:"status","aria-live":"polite",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You've seen all the Pok\xe9mon! \uD83C\uDF89"})})]})}var D=a(8046);function G(e){let{suggestions:t,onSelect:a,query:s}=e,[n,i]=(0,l.useState)(-1),o=e=>({normal:"bg-gray-400",fire:"bg-red-500",water:"bg-blue-500",electric:"bg-yellow-400",grass:"bg-green-500",ice:"bg-blue-300",fighting:"bg-red-700",poison:"bg-purple-500",ground:"bg-yellow-600",flying:"bg-indigo-400",psychic:"bg-pink-500",bug:"bg-green-400",rock:"bg-yellow-800",ghost:"bg-purple-700",dragon:"bg-indigo-700",dark:"bg-gray-800",steel:"bg-gray-500",fairy:"bg-pink-300"})[e]||"bg-gray-400",c=(e,t)=>{if(!t)return e;let a=RegExp("(".concat(t,")"),"gi");return e.split(a).map((e,t)=>a.test(e)?(0,r.jsx)("mark",{className:"bg-yellow-200 dark:bg-yellow-600 text-gray-900 dark:text-white",children:e},t):e)};return((0,l.useEffect)(()=>{i(-1)},[t]),(0,l.useEffect)(()=>{let e=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),i(e=>e<t.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),i(e=>e>0?e-1:e);break;case"Enter":if(e.preventDefault(),n>=0&&n<t.length){let e=t[n];e&&a(e)}break;case"Escape":i(-1)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,t,a]),0===t.length)?null:(0,r.jsx)("div",{id:"autocomplete-dropdown",className:"absolute top-full left-0 right-0 z-50 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",role:"listbox","aria-label":"Search suggestions",children:t.map((e,t)=>(0,r.jsxs)("button",{onClick:()=>a(e),className:"w-full px-4 py-3 flex items-center space-x-3 hover:bg-gray-50 \n                     dark:hover:bg-gray-700 transition-colors duration-150 text-left\n                     ".concat(n===t?"bg-blue-50 dark:bg-blue-900/20":"","\n                     ").concat(0===t?"":"border-t border-gray-100 dark:border-gray-700"),role:"option","aria-selected":n===t,tabIndex:-1,children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-12 h-12 relative",children:e.image&&(0,r.jsx)(I.default,{src:e.image,alt:e.name,fill:!0,className:"object-contain",sizes:"48px"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:c(e.name,s)}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",e.id.toString().padStart(3,"0")]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 ml-2",children:e.types.slice(0,2).map(e=>(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-white rounded-full ".concat(o(e)),children:e},e))})]})})]},e.id))})}function _(e){var t;let a,{onSearch:s,onSelectPokemon:n,placeholder:o="Search Pok\xe9mon..."}=e,[c,d]=(0,l.useState)(""),[g,m]=(0,l.useState)([]),[x,h]=(0,l.useState)(!1),[b,p]=(0,l.useState)(!1),y=(0,l.useRef)(null),f=(0,l.useRef)(null),k=(t=async e=>{if(e.length<2){m([]),p(!1),h(!1);return}try{h(!0);let t=await u(e,5);m(t),p(t.length>0)}catch(e){console.error("Search error:",e),m([]),p(!1)}finally{h(!1)}},function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];clearTimeout(a),a=setTimeout(()=>t(...r),300)});return(0,l.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.jsxs)("div",{ref:f,className:"relative w-full max-w-lg mx-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(D.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,r.jsx)("input",{ref:y,type:"text",value:c,onChange:e=>{let t=e.target.value;d(t),s(t),t.length>=2?(h(!0),k(t)):(m([]),p(!1),h(!1))},onKeyDown:e=>{if("Escape"===e.key){var t;p(!1),null==(t=y.current)||t.blur()}},onFocus:()=>g.length>0&&p(!0),placeholder:o,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm hover:shadow-md transition-shadow duration-200","aria-label":"Search Pok\xe9mon","aria-expanded":b,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-controls":"autocomplete-dropdown",role:"combobox"}),(c||x)&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600","aria-hidden":"true",role:"status","aria-label":"Searching"}):(0,r.jsx)("button",{onClick:()=>{var e;d(""),m([]),p(!1),h(!1),s(""),null==(e=y.current)||e.focus()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full p-1","aria-label":"Clear search",type:"button",children:(0,r.jsx)(i.A,{className:"h-4 w-4","aria-hidden":"true"})})})]}),b&&(0,r.jsx)(G,{suggestions:g,onSelect:e=>{d(e.name),p(!1),n(e)},query:c})]})}function T(){let[e,t]=(0,l.useState)(""),[a,i]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),[m,x]=(0,l.useState)(!1),u=(0,n.useRouter)(),{filters:b,filteredPokemon:p,updateFilters:k,hasActiveFilters:j,resultsCount:w}=function(e){let[t,a]=(0,l.useState)(h),r=(0,l.useMemo)(()=>e.filter(e=>{if(t.types.length>0&&!t.types.some(t=>e.types.includes(t))||null!==t.generation&&e.generation!==t.generation)return!1;let a=y(e.stats,"hp"),r=y(e.stats,"attack"),s=y(e.stats,"defense"),n=y(e.stats,"special-attack"),l=y(e.stats,"special-defense"),i=y(e.stats,"speed");return!(a<t.stats.hp.min)&&!(a>t.stats.hp.max)&&!(r<t.stats.attack.min)&&!(r>t.stats.attack.max)&&!(s<t.stats.defense.min)&&!(s>t.stats.defense.max)&&!(n<t.stats.specialAttack.min)&&!(n>t.stats.specialAttack.max)&&!(l<t.stats.specialDefense.min)&&!(l>t.stats.specialDefense.max)&&!(i<t.stats.speed.min)&&!(i>t.stats.speed.max)&&!(e.totalStats<t.stats.total.min)&&!(e.totalStats>t.stats.total.max)&&!(e.height<t.height.min)&&!(e.height>t.height.max)&&!(e.weight<t.weight.min)&&!(e.weight>t.weight.max)&&!0}),[e,t]),s=(0,l.useMemo)(()=>t.types.length>0||null!==t.generation||JSON.stringify(t.stats)!==JSON.stringify(h.stats)||JSON.stringify(t.height)!==JSON.stringify(h.height)||JSON.stringify(t.weight)!==JSON.stringify(h.weight),[t]);return{filters:t,filteredPokemon:r,updateFilters:e=>{a(e)},resetFilters:()=>{a(h)},hasActiveFilters:s,resultsCount:r.length}}(a);return(0,l.useEffect)(()=>{(async()=>{try{d(!0);let e=await c(151,0),t=await Promise.all(e.results.map(async e=>{let t=g(e.url);return await f(t)}));i(t)}catch(e){console.error("Failed to load Pokemon for filtering:",e)}finally{d(!1)}})()},[]),(0,r.jsx)("div",{className:"h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsx)(A,{filters:b,onFiltersChange:k,isOpen:m,onClose:()=>x(!1),resultsCount:w}),(0,r.jsx)("div",{className:"flex-1 lg:ml-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-5xl font-bold text-gray-800 dark:text-white mb-4",children:"Pok\xe9dex"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Discover and explore the world of Pok\xe9mon"})]}),(0,r.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(_,{onSearch:e=>{t(e)},onSelectPokemon:e=>{u.push("/pokemon/".concat(e.id))},placeholder:"Search Pok\xe9mon..."})}),(0,r.jsxs)("button",{onClick:()=>x(!0),className:"lg:hidden px-4 py-3 rounded-lg border \n                             border-gray-300 dark:border-gray-600\n                             bg-white dark:bg-gray-800 \n                             text-gray-700 dark:text-gray-300\n                             hover:bg-gray-50 dark:hover:bg-gray-700 \n                             transition-colors flex items-center gap-2 ".concat(j?"ring-2 ring-blue-500":""),"aria-label":"Open filters",children:[(0,r.jsx)(s.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Filters"}),j&&(0,r.jsx)("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:w})]})]}),j&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w," Pok\xe9mon match your current filters"]})})]}),o?(0,r.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,r.jsx)("p",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading Pok\xe9mon..."})]}):(0,r.jsx)("main",{children:(0,r.jsx)(O,{searchQuery:e,filteredPokemon:j?p:[],isFiltering:j})})]})})]})})}},5967:(e,t,a)=>{Promise.resolve().then(a.bind(a,4200))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,90,441,684,358],()=>t(5967)),_N_E=e.O()}]);